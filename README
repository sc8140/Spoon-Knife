All that's missing is the fork. Heh!!
Change #1.
Change #2.
Change #3.